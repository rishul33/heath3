const maxPhone=767,maxTablet=1055,maxLaptop=1343;isRTL="rtl"===document.querySelector("html").attributes.dir?.value,document.querySelectorAll("#nav li").forEach((e=>{let t=e.innerHTML.replace(/ and /g," & ");e.innerHTML=t})),document.querySelectorAll("#nav li button[role=menuitem]").forEach((e=>{e.innerHTML=`<span>${e.innerHTML}</span>`})),[...document.querySelectorAll(".mayo-nav-socialmedia")].filter((e=>"LI"===e.parentElement.nodeName))[0].parentElement.remove(),document.querySelector("#searchTerm").setAttribute("placeholder","Search");const nav=document.querySelector("#main-nav"),copyTranslateLinks=document.importNode(document.querySelector("#available-languages"),!0);let lastClickTarget;copyTranslateLinks.classList.add("xs-visible"),copyTranslateLinks.id="available-languages-mobile",nav.appendChild(copyTranslateLinks),[...document.querySelectorAll('[aria-label="submenu"] a')].forEach((e=>{e.setAttribute("tabindex","-1")}));const navButtons=[...nav.querySelectorAll("#nav > li > button")];navButtons.forEach((e=>{let t=e.parentElement;e.addEventListener("click",(n=>{window.innerWidth>1055&&n.target!==lastClickTarget&&t.classList.contains("menu-open")&&"false"===e.getAttribute("aria-expanded")&&t.classList.remove("menu-open")})),t.addEventListener("click",(n=>{window.innerWidth<=1055&&(t.removeAttribute("aria-expanded"),navButtons.forEach((t=>{t!==e&&(t.parentElement.classList.remove("menu-open"),t.setAttribute("aria-expanded","false"))})),t.classList.contains("menu-open")?t.classList.remove("menu-open"):t.classList.add("menu-open"),"true"===e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded","false"):e.setAttribute("aria-expanded","true"))})),t.addEventListener("keydown",(e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault(),window.innerWidth<=1055&&"Enter"===e.key&&e.preventDefault()})),e.addEventListener("focus",(e=>{navButtons.forEach((e=>{e.setAttribute("aria-expanded","false"),e.parentElement.classList.remove("menu-open")}))})),e.addEventListener("blur",(n=>{"true"===e.getAttribute("aria-expanded")!==t.classList.contains("menu-open")&&t.classList.remove("menu-open"),e===navButtons[navButtons.length-1]&&(t.contains(n.relatedTarget)||n.shiftKey||(e.setAttribute("aria-expanded",!1),t.classList.remove("menu-open")))}))}));const translateBtn=document.querySelector(".translate-btn");window.addEventListener("click",(e=>{translateBtn.classList.contains("open")&&e.target!==translateBtn&&"available-languages"!==e.target.parentElement?.parentElement?.id&&(document.querySelector(".translate-btn").classList.remove("open"),document.querySelector(".translate-btn").setAttribute("aria-expanded","false"))}));const searchButton=document.querySelector(".mayo-nav-search > button"),menuButton=document.querySelector("button.mc-menu-trigger");searchButton.innerHTML+='<svg aria-hidden="true" id="outline" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <title>search</title>\n  <path d="M29.12134,24.87866l-5.06885-5.06885a13.05467,13.05467,0,0,1-1.191,1.63739l4.84564,4.84571a1,1,0,1,1-1.41418,1.41418l-4.84571-4.8457a13.05511,13.05511,0,0,1-1.63732,1.1911l5.06878,5.06879a3,3,0,0,0,4.24268-4.24262Z"></path>\n  <path d="M13,24A11,11,0,1,1,24,13,11.01245,11.01245,0,0,1,13,24ZM13,4a9,9,0,1,0,9,9A9.01016,9.01016,0,0,0,13,4Z"></path>\n</svg>',searchButton.addEventListener("click",(e=>{"false"===searchButton.getAttribute("aria-expanded")&&setTimeout((()=>{document.querySelector("#searchTerm").focus()}),100),menuButton.setAttribute("aria-expanded","false")})),menuButton.nextElementSibling.querySelectorAll("li[class*=mayo-nav_item-]").forEach((e=>{e.addEventListener("mouseup",(e=>{e.target.parentElement.classList.contains("menu-open")?(e.target.parentElement.classList.remove("menu-open"),e.target.setAttribute("aria-expanded","false")):(e.target.parentElement.classList.add("menu-open"),e.target.setAttribute("aria-expanded","true"))}))})),menuButton.addEventListener("click",(e=>{searchButton.setAttribute("aria-expanded","false"),"true"===menuButton.getAttribute("aria-expanded")&&menuButton.nextElementSibling.querySelectorAll("li[class*=mayo-nav_item-]").forEach((e=>{e.classList.contains("menu-open")&&e.classList.remove("menu-open")}))})),menuButton.addEventListener("keyup",(e=>{"Enter"===e.key&&("true"===menuButton.getAttribute("aria-expanded")?menuButton.nextElementSibling.querySelectorAll("li[class*=mayo-nav_item-]").forEach((e=>{e.classList.contains("menu-open")&&e.classList.remove("menu-open")})):menuButton.setAttribute("aria-expanded","true"))}));let subs=[...document.querySelectorAll(".diseases-conditions .sub, .why-choose-mayo .sub")],hr=document.createElement("hr");subs.forEach((e=>{e.querySelector("hr")||e.appendChild(hr)}));let cardSliders=[...document.querySelectorAll(".card-slider")];cardSliders.forEach((e=>{let t=[...e.querySelectorAll(".card:not(.card .card)")],n=e.parentElement,a=n.getBoundingClientRect().x,r=document.createElement("div");r.classList.add("card-slider-controls"),r.setAttribute("aria-hidden","true"),t.forEach(((e,l)=>{let s=document.createElement("span");s.classList.add("card-slider-control"),0===l&&s.classList.add("active"),s.addEventListener("click",(e=>{t[l].getBoundingClientRect().x!==a&&n.scroll({left:n.scrollLeft+(t[l].getBoundingClientRect().left-a),behavior:"smooth"})})),r.append(s)})),e.parentElement.parentElement.append(r),n.addEventListener("scroll",(e=>{let a=n.scrollWidth-n.getBoundingClientRect().width,r=Math.floor(Math.abs(n.scrollLeft/a)*t.length);r===t.length&&r--;let l=[...n.nextElementSibling.querySelectorAll(".card-slider-control")];l.forEach((e=>{e.classList.remove("active")})),l[r].classList.add("active")}))}));let translations=window.translations||void 0,links=/\[([^\]]+)\]/g,hrefs=/\(([^\)]+)\)/g;if(translations&&([...document.querySelectorAll("[translation]")].forEach((e=>{let t=translations[e.getAttribute("translation")]||void 0;t&&(t.match(links)?(t.match(links).forEach(((e,n)=>{let a=t.match(hrefs)[n];t=t.replace(a,"").replace(e,`<a href="${a.replace("(","").replace(")","")}">${e.replace("[","").replace("]","")}</a>`)})),e.innerHTML=t):e.innerText=t)})),[...document.querySelectorAll("[alt]")].forEach((e=>{if(e.getAttribute("alt").indexOf("translation-")>-1){let t=translations[e.getAttribute("alt").split("translation-")[1]]||void 0;t&&e.setAttribute("alt",t)}}))),"localhost"===window.location.hostname){let e=document.createElement("link");e.setAttribute("href","/includes/ux-component-a11y/dist/accessibility-combined.css"),e.setAttribute("rel","stylesheet"),document.querySelector("head").insertBefore(e,document.querySelector("head script"));let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","https://www.mayoclinic.org/mayofonts/Fonts/mayo/fonts.css"),t.setAttribute("media","all"),document.querySelector("head").insertBefore(t,document.querySelector("head link"))}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9pbmRleC5qcyIsIl90cmFuc2xhdGlvbi5qcyIsImxvY2FsaG9zdC5qcyJdLCJuYW1lcyI6WyJtYXhQaG9uZSIsIm1heFRhYmxldCIsIm1heExhcHRvcCIsImlzUlRMIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYXR0cmlidXRlcyIsImRpciIsInZhbHVlIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJsaW5rIiwibmV3SHRtbCIsImlubmVySFRNTCIsInJlcGxhY2UiLCJidXR0b24iLCJmaWx0ZXIiLCJlbCIsInBhcmVudEVsZW1lbnQiLCJub2RlTmFtZSIsInJlbW92ZSIsInNldEF0dHJpYnV0ZSIsIm5hdiIsImNvcHlUcmFuc2xhdGVMaW5rcyIsImltcG9ydE5vZGUiLCJsYXN0Q2xpY2tUYXJnZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpZCIsImFwcGVuZENoaWxkIiwibmF2QnV0dG9ucyIsImxpIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwidGFyZ2V0IiwiY29udGFpbnMiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJuYiIsImtleSIsInByZXZlbnREZWZhdWx0IiwibGVuZ3RoIiwicmVsYXRlZFRhcmdldCIsInNoaWZ0S2V5IiwidHJhbnNsYXRlQnRuIiwic2VhcmNoQnV0dG9uIiwibWVudUJ1dHRvbiIsInNldFRpbWVvdXQiLCJmb2N1cyIsIm5leHRFbGVtZW50U2libGluZyIsInN1YnMiLCJociIsImNyZWF0ZUVsZW1lbnQiLCJzdWIiLCJjYXJkU2xpZGVycyIsImNzIiwiY2FyZHMiLCJ3cmFwcGVyIiwicGFkZGluZyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJzbGlkZXJDb250cm9scyIsImNhcmQiLCJpIiwiY29udHJvbCIsInNjcm9sbCIsImxlZnQiLCJzY3JvbGxMZWZ0IiwiYmVoYXZpb3IiLCJhcHBlbmQiLCJ3cmFwcGVyV2lkdGgiLCJzY3JvbGxXaWR0aCIsIndpZHRoIiwiY3VycmVudEluZGV4IiwiTWF0aCIsImZsb29yIiwiYWJzIiwiY29udHJvbHMiLCJjIiwidHJhbnNsYXRpb25zIiwidW5kZWZpbmVkIiwibGlua3MiLCJocmVmcyIsInRyYW5zbGF0aW9uIiwibWF0Y2giLCJocmVmIiwiaW5uZXJUZXh0IiwiaW5kZXhPZiIsInNwbGl0IiwibG9jYXRpb24iLCJob3N0bmFtZSIsImxoQTExeVNjcmlwdCIsImluc2VydEJlZm9yZSIsImxoRm9udHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQUFBLFNBQUEsSUFDQUMsVUFBQSxLQUNBQyxVQUFBLEtBRUFDLE1BQUEsUUFBQUMsU0FBQUMsY0FBQSxRQUFBQyxXQUFBQyxLQUFBQyxNQUNBSixTQUFBSyxpQkFBQSxXQUFBQyxTQUFBQyxJQUNBLElBQ0FDLEVBREFELEVBQUFFLFVBQ0FDLFFBQUEsU0FBQSxPQUNBSCxFQUFBRSxVQUFBRCxLQUVBUixTQUFBSyxpQkFBQSxpQ0FBQUMsU0FBQUssSUFDQUEsRUFBQUYsVUFBQSxTQUFBRSxFQUFBRixzQkFHQSxJQUFBVCxTQUFBSyxpQkFBQSwwQkFBQU8sUUFBQUMsR0FBQSxPQUFBQSxFQUFBQyxjQUFBQyxXQUFBLEdBQUFELGNBQUFFLFNBRUFoQixTQUFBQyxjQUFBLGVBQUFnQixhQUFBLGNBQUEsVUFFQSxNQUFBQyxJQUFBbEIsU0FBQUMsY0FBQSxhQUNBa0IsbUJBQUFuQixTQUFBb0IsV0FBQXBCLFNBQUFDLGNBQUEseUJBQUEsR0FJQSxJQUFBb0IsZ0JBSEFGLG1CQUFBRyxVQUFBQyxJQUFBLGNBQ0FKLG1CQUFBSyxHQUFBLDZCQUNBTixJQUFBTyxZQUFBTixvQkFFQSxJQUFBbkIsU0FBQUssaUJBQUEsNkJBQUFDLFNBQUFPLElBQ0FBLEVBQUFJLGFBQUEsV0FBQSxTQUVBLE1BQUFTLFdBQUEsSUFBQVIsSUFBQWIsaUJBQUEsdUJBQ0FxQixXQUFBcEIsU0FBQUssSUFDQSxJQUFBZ0IsRUFBQWhCLEVBQUFHLGNBRUFILEVBQUFpQixpQkFBQSxTQUFBQyxJQUNB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akIsU0FBQUMsY0FBQSxRQUFBeUYsYUFBQUMsRUFBQTNGLFNBQUFDLGNBQUEiLCJmaWxlIjoiaG9tZXBhZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtYXhQaG9uZSA9IDc2NztcbmNvbnN0IG1heFRhYmxldCA9IDEwNTU7XG5jb25zdCBtYXhMYXB0b3AgPSAxMzQzO1xuLy8gTkFWIFVQREFURVNcbmlzUlRMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLmF0dHJpYnV0ZXMuZGlyPy52YWx1ZSA9PT0gJ3J0bCc7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbmF2IGxpJykuZm9yRWFjaChsaW5rID0+IHtcblx0bGV0IGh0bWwgPSBsaW5rLmlubmVySFRNTDtcblx0bGV0IG5ld0h0bWwgPSBodG1sLnJlcGxhY2UoLyBhbmQgL2csICcgJiAnKTtcblx0bGluay5pbm5lckhUTUwgPSBuZXdIdG1sO1xufSk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbmF2IGxpIGJ1dHRvbltyb2xlPW1lbnVpdGVtXScpLmZvckVhY2goYnV0dG9uID0+IHtcblx0YnV0dG9uLmlubmVySFRNTCA9IGA8c3Bhbj4ke2J1dHRvbi5pbm5lckhUTUx9PC9zcGFuPmA7XG59KTtcbi8vIFJlbW92ZSBzb2NpYWwgbWVkaWEgbmF2IGl0ZW1zLiBUaGV5IHN0YXJ0ZWQgY2F1c2luZyBhbiBpc3N1ZSBieSBwcmV2ZW50aW5nIGxhbmd1YWdlIHNlbGVjdGlvbiBpdGVtcyBmcm9tIGJlaW5nIGNsaWNrZWQgb24gbW9iaWxlXG5bLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1heW8tbmF2LXNvY2lhbG1lZGlhJyldLmZpbHRlcihlbCA9PiBlbC5wYXJlbnRFbGVtZW50Lm5vZGVOYW1lID09PSBcIkxJXCIpWzBdLnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4vLyBGaXggc2VhcmNoIHBsYWNlaG9sZGVyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2VhcmNoVGVybScpLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnU2VhcmNoJyk7XG4vLyBhZGQgbGFuZ3VhZ2Ugc2VsZWN0b3IgdG8gbW9iaWxlIG1lbnVcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLW5hdicpO1xuY29uc3QgY29weVRyYW5zbGF0ZUxpbmtzID0gZG9jdW1lbnQuaW1wb3J0Tm9kZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXZhaWxhYmxlLWxhbmd1YWdlcycpLCB0cnVlKTtcbmNvcHlUcmFuc2xhdGVMaW5rcy5jbGFzc0xpc3QuYWRkKCd4cy12aXNpYmxlJyk7XG5jb3B5VHJhbnNsYXRlTGlua3MuaWQgPSBcImF2YWlsYWJsZS1sYW5ndWFnZXMtbW9iaWxlXCI7XG5uYXYuYXBwZW5kQ2hpbGQoY29weVRyYW5zbGF0ZUxpbmtzKTtcbmxldCBsYXN0Q2xpY2tUYXJnZXQ7XG5bLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2FyaWEtbGFiZWw9XCJzdWJtZW51XCJdIGEnKV0uZm9yRWFjaChlbCA9PiB7XG5cdGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbn0pO1xuY29uc3QgbmF2QnV0dG9ucyA9IFsuLi5uYXYucXVlcnlTZWxlY3RvckFsbCgnI25hdiA+IGxpID4gYnV0dG9uJyldO1xubmF2QnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG5cdGxldCBsaSA9IGJ1dHRvbi5wYXJlbnRFbGVtZW50O1xuXHQvLyBSZXNldCBjYXJldCBpY29uIHdoZW4gbW9iaWxlIG5hdiBpdGVtIGlzIGNsb3NlZFxuXHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0XHRpZiAod2luZG93LmlubmVyV2lkdGggPiBtYXhUYWJsZXQgJiYgKGUudGFyZ2V0ICE9PSBsYXN0Q2xpY2tUYXJnZXQgJiYgbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51LW9wZW4nKSAmJiBidXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICdmYWxzZScpKSB7XG5cdFx0XHRsaS5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW4nKTtcblx0XHR9XG5cdH0pO1xuXHRsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRcdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSBtYXhUYWJsZXQpIHtcblx0XHRcdGxpLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpO1xuXHRcdFx0bmF2QnV0dG9ucy5mb3JFYWNoKG5iID0+IHtcblx0XHRcdFx0aWYgKG5iICE9PSBidXR0b24pIHtcblx0XHRcdFx0XHRuYi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbicpO1xuXHRcdFx0XHRcdG5iLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGxpLmNsYXNzTGlzdC5jb250YWlucygnbWVudS1vcGVuJykgPyBsaS5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW4nKSA6IGxpLmNsYXNzTGlzdC5hZGQoJ21lbnUtb3BlbicpO1xuXHRcdFx0YnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpID09PSAndHJ1ZScgPyBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJykgOiBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcblx0XHR9XG5cdH0pO1xuXHRsaS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG5cdFx0aWYgKGUua2V5ID09PSAnQXJyb3dVcCcgfHwgZS5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHRcdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSBtYXhUYWJsZXQpIHtcblx0XHRcdGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZSA9PiB7XG5cdFx0bmF2QnV0dG9ucy5mb3JFYWNoKGVsID0+IHtcblx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuXHRcdFx0ZWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW4nKTtcblx0XHR9KTtcblx0fSk7XG5cdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZSA9PiB7XG5cdFx0aWYgKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnICE9PSBsaS5jbGFzc0xpc3QuY29udGFpbnMoJ21lbnUtb3BlbicpKSB7XG5cdFx0XHRsaS5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW4nKTtcblx0XHR9XG5cdFx0aWYgKGJ1dHRvbiA9PT0gbmF2QnV0dG9uc1tuYXZCdXR0b25zLmxlbmd0aCAtIDFdKSB7XG5cdFx0XHRpZiAoIWxpLmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkgJiYgIWUuc2hpZnRLZXkpIHtcblx0XHRcdFx0YnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcblx0XHRcdFx0bGkuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn0pO1xuLy8gQ2xvc2UgbGFuZ3VhZ2Ugc2VsZWN0b3Igd2hlbiB1c2VyIGNsaWNrcyBvdXRzaWRlIG9mIGl0XG5jb25zdCB0cmFuc2xhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJhbnNsYXRlLWJ0bicpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG5cdGlmICh0cmFuc2xhdGVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykgJiYgZS50YXJnZXQgIT09IHRyYW5zbGF0ZUJ0biAmJiBlLnRhcmdldC5wYXJlbnRFbGVtZW50Py5wYXJlbnRFbGVtZW50Py5pZCAhPT0gJ2F2YWlsYWJsZS1sYW5ndWFnZXMnKSB7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYW5zbGF0ZS1idG4nKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYW5zbGF0ZS1idG4nKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblx0fVxufSk7XG4vLyBTZWFyY2ggQnV0dG9uXG5jb25zdCBzZWFyY2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWF5by1uYXYtc2VhcmNoID4gYnV0dG9uJyk7XG5jb25zdCBtZW51QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uLm1jLW1lbnUtdHJpZ2dlcicpO1xuc2VhcmNoQnV0dG9uLmlubmVySFRNTCArPSBgPHN2ZyBhcmlhLWhpZGRlbj1cInRydWVcIiBpZD1cIm91dGxpbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiPlxuICA8dGl0bGU+c2VhcmNoPC90aXRsZT5cbiAgPHBhdGggZD1cIk0yOS4xMjEzNCwyNC44Nzg2NmwtNS4wNjg4NS01LjA2ODg1YTEzLjA1NDY3LDEzLjA1NDY3LDAsMCwxLTEuMTkxLDEuNjM3MzlsNC44NDU2NCw0Ljg0NTcxYTEsMSwwLDEsMS0xLjQxNDE4LDEuNDE0MThsLTQuODQ1NzEtNC44NDU3YTEzLjA1NTExLDEzLjA1NTExLDAsMCwxLTEuNjM3MzIsMS4xOTExbDUuMDY4NzgsNS4wNjg3OWEzLDMsMCwwLDAsNC4yNDI2OC00LjI0MjYyWlwiPjwvcGF0aD5cbiAgPHBhdGggZD1cIk0xMywyNEExMSwxMSwwLDEsMSwyNCwxMywxMS4wMTI0NSwxMS4wMTI0NSwwLDAsMSwxMywyNFpNMTMsNGE5LDksMCwxLDAsOSw5QTkuMDEwMTYsOS4wMTAxNiwwLDAsMCwxMyw0WlwiPjwvcGF0aD5cbjwvc3ZnPmA7XG5zZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0aWYgKHNlYXJjaEJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gXCJmYWxzZVwiKSB7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlYXJjaFRlcm0nKS5mb2N1cygpfSwgMTAwKVxuXHR9XG5cdG1lbnVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgXCJmYWxzZVwiKTtcbn0pO1xuLy8gTW9iaWxlIE1lbnVcbm1lbnVCdXR0b24ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpW2NsYXNzKj1tYXlvLW5hdl9pdGVtLV0nKS5mb3JFYWNoKGVsID0+IHtcblx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGUgPT4ge1xuXHRcdGlmICghZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ21lbnUtb3BlbicpKXtcblx0XHRcdGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1vcGVuJyk7XG5cdFx0XHRlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbicpO1xuXHRcdFx0ZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG5cdFx0fVxuXHR9KTtcbn0pO1xubWVudUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRzZWFyY2hCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgXCJmYWxzZVwiKTtcblx0aWYgKG1lbnVCdXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJykge1xuXHRcdG1lbnVCdXR0b24ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpW2NsYXNzKj1tYXlvLW5hdl9pdGVtLV0nKS5mb3JFYWNoKGVsID0+IHtcblx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ21lbnUtb3BlbicpKSB7XG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbicpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59KTtcbm1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHtcblx0aWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG5cdFx0aWYgKG1lbnVCdXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJykge1xuXHRcdFx0bWVudUJ1dHRvbi5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvckFsbCgnbGlbY2xhc3MqPW1heW8tbmF2X2l0ZW0tXScpLmZvckVhY2goZWwgPT4ge1xuXHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51LW9wZW4nKSkge1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWVudUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuXHRcdH1cblx0fVxufSk7XG4vLyBBZGQgSFJzIGlmIHRoZXkgZG9uJ3QgZXhpc3QgaW4gZW52aXJvbm1lbnRcbmxldCBzdWJzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXNlYXNlcy1jb25kaXRpb25zIC5zdWIsIC53aHktY2hvb3NlLW1heW8gLnN1YicpXTtcbmxldCBociA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hyJyk7XG5zdWJzLmZvckVhY2goc3ViID0+IHtcblx0aWYgKCFzdWIucXVlcnlTZWxlY3RvcignaHInKSkge1xuXHRcdHN1Yi5hcHBlbmRDaGlsZChocik7XG5cdH1cbn0pO1xuXG4vLyBDQVJEU0xJREVSXG5sZXQgY2FyZFNsaWRlcnMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtc2xpZGVyJyldO1xuY2FyZFNsaWRlcnMuZm9yRWFjaChjcyA9PiB7XG5cdGxldCBjYXJkcyA9IFsuLi5jcy5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZDpub3QoLmNhcmQgLmNhcmQpJyldO1xuXHRsZXQgd3JhcHBlciA9IGNzLnBhcmVudEVsZW1lbnQ7XG5cdGxldCBwYWRkaW5nID0gd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54O1xuXHRsZXQgc2xpZGVyQ29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0c2xpZGVyQ29udHJvbHMuY2xhc3NMaXN0LmFkZCgnY2FyZC1zbGlkZXItY29udHJvbHMnKTtcblx0c2xpZGVyQ29udHJvbHMuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cdGNhcmRzLmZvckVhY2goKGNhcmQsIGkpID0+IHtcblx0XHRsZXQgY29udHJvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0XHRjb250cm9sLmNsYXNzTGlzdC5hZGQoJ2NhcmQtc2xpZGVyLWNvbnRyb2wnKTtcblx0XHRpZiAoaSA9PT0gMCkgY29udHJvbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHQvLyBXaGVuIGNsaWNraW4gdGhlIGNvbnRyb2xzIGJlbmVhdGggY2FyZHM6XG5cdFx0Y29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRcdFx0aWYgKGNhcmRzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggIT09IHBhZGRpbmcpIHtcblx0XHRcdFx0d3JhcHBlci5zY3JvbGwoeyBsZWZ0OiB3cmFwcGVyLnNjcm9sbExlZnQgKyAoY2FyZHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIHBhZGRpbmcpLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0c2xpZGVyQ29udHJvbHMuYXBwZW5kKGNvbnRyb2wpO1xuXHR9KTtcblx0Y3MucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmFwcGVuZChzbGlkZXJDb250cm9scyk7XG5cdC8vIFdoZW4gc3dpcGluZyBjYXJkczpcblx0d3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlID0+IHtcblx0XHRsZXQgd3JhcHBlcldpZHRoID0gd3JhcHBlci5zY3JvbGxXaWR0aCAtIHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG5cdFx0bGV0IGN1cnJlbnRJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5hYnMod3JhcHBlci5zY3JvbGxMZWZ0IC8gd3JhcHBlcldpZHRoKSAqIGNhcmRzLmxlbmd0aCk7XG5cdFx0aWYgKGN1cnJlbnRJbmRleCA9PT0gY2FyZHMubGVuZ3RoKSBjdXJyZW50SW5kZXgtLTtcblx0XHRsZXQgY29udHJvbHMgPSBbLi4ud3JhcHBlci5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtc2xpZGVyLWNvbnRyb2wnKV07XG5cdFx0Y29udHJvbHMuZm9yRWFjaChjID0+IHtcblx0XHRcdGMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0fSk7XG5cdFx0Y29udHJvbHNbY3VycmVudEluZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0fSk7XG59KTtcbiIsImxldCB0cmFuc2xhdGlvbnMgPSB3aW5kb3cudHJhbnNsYXRpb25zIHx8IHVuZGVmaW5lZDtcbmxldCBsaW5rcyA9IC9cXFsoW15cXF1dKylcXF0vZztcbmxldCBocmVmcyA9IC9cXCgoW15cXCldKylcXCkvZztcbi8vIFJ1bnRpbWVcbmlmICh0cmFuc2xhdGlvbnMpIHtcblx0Wy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1t0cmFuc2xhdGlvbl0nKV0uZm9yRWFjaChlbCA9PiB7XG5cdFx0bGV0IHRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb25zW2VsLmdldEF0dHJpYnV0ZSgndHJhbnNsYXRpb24nKV0gfHwgdW5kZWZpbmVkO1xuXHRcdGlmICh0cmFuc2xhdGlvbikge1xuXHRcdFx0aWYgKHRyYW5zbGF0aW9uLm1hdGNoKGxpbmtzKSkge1xuXHRcdFx0XHR0cmFuc2xhdGlvbi5tYXRjaChsaW5rcykuZm9yRWFjaCgobGluaywgaSkgPT4ge1xuXHRcdFx0XHRcdGxldCBocmVmID0gdHJhbnNsYXRpb24ubWF0Y2goaHJlZnMpW2ldO1xuXHRcdFx0XHRcdHRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb24ucmVwbGFjZShocmVmLCAnJykucmVwbGFjZShsaW5rLCBgPGEgaHJlZj1cIiR7aHJlZi5yZXBsYWNlKCcoJywgJycpLnJlcGxhY2UoJyknLCAnJyl9XCI+JHtsaW5rLnJlcGxhY2UoJ1snLCAnJykucmVwbGFjZSgnXScsICcnKX08L2E+YCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRlbC5pbm5lckhUTUwgPSB0cmFuc2xhdGlvbjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsLmlubmVyVGV4dCA9IHRyYW5zbGF0aW9uO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cdFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbYWx0XScpXS5mb3JFYWNoKGVsID0+IHtcblx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCdhbHQnKS5pbmRleE9mKCd0cmFuc2xhdGlvbi0nKSA+IC0xKSB7XG5cdFx0XHRsZXQgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbnNbZWwuZ2V0QXR0cmlidXRlKCdhbHQnKS5zcGxpdCgndHJhbnNsYXRpb24tJylbMV1dIHx8IHVuZGVmaW5lZDtcblx0XHRcdGlmICh0cmFuc2xhdGlvbikge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHRyYW5zbGF0aW9uKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuIiwiaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcpIHtcblx0bGV0IGxoQTExeVNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcblx0bGhBMTF5U2NyaXB0LnNldEF0dHJpYnV0ZSgnaHJlZicsICcvaW5jbHVkZXMvdXgtY29tcG9uZW50LWExMXkvZGlzdC9hY2Nlc3NpYmlsaXR5LWNvbWJpbmVkLmNzcycpO1xuXHRsaEExMXlTY3JpcHQuc2V0QXR0cmlidXRlKCdyZWwnLCAnc3R5bGVzaGVldCcpO1xuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykuaW5zZXJ0QmVmb3JlKGxoQTExeVNjcmlwdCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCBzY3JpcHQnKSk7XG5cdGxldCBsaEZvbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXHRsaEZvbnRzLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTtcblx0bGhGb250cy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcblx0bGhGb250cy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnaHR0cHM6Ly93d3cubWF5b2NsaW5pYy5vcmcvbWF5b2ZvbnRzL0ZvbnRzL21heW8vZm9udHMuY3NzJyk7XG5cdGxoRm9udHMuc2V0QXR0cmlidXRlKCdtZWRpYScsICdhbGwnKTtcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmluc2VydEJlZm9yZShsaEZvbnRzLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkIGxpbmsnKSk7XG59XG4iXX0=
